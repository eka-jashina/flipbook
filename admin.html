<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî Flipbook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Fonts (—Ç–µ –∂–µ, —á—Ç–æ –≤ —Ä–∏–¥–µ—Ä–µ) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter&family=Roboto&family=Open+Sans&family=Merriweather&family=Libre+Baskerville&display=swap"
      rel="stylesheet"
    >

    <link rel="stylesheet" href="css/admin/index.css">
  </head>

  <body>
    <header class="admin-header">
      <div class="admin-header-inner">
        <h1 class="admin-logo">Flipbook <span class="admin-badge">–ê–¥–º–∏–Ω</span></h1>
        <nav class="admin-nav">
          <a href="index.html" class="admin-nav-link">
            <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
              <path fill="currentColor" d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"/>
            </svg>
            –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–Ω–∏–≥–µ
          </a>
        </nav>
      </div>
    </header>

    <main class="admin-main">
      <!-- –¢–∞–±—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
      <div class="admin-tabs" role="tablist" aria-label="–†–∞–∑–¥–µ–ª—ã –∞–¥–º–∏–Ω–∫–∏">
        <button class="admin-tab active" role="tab" aria-selected="true" data-tab="chapters">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
          </svg>
          –ì–ª–∞–≤—ã
        </button>
        <button class="admin-tab" role="tab" aria-selected="false" data-tab="settings">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
          </svg>
          –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        </button>
        <button class="admin-tab" role="tab" aria-selected="false" data-tab="appearance">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-1 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
          </svg>
          –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
        </button>
        <button class="admin-tab" role="tab" aria-selected="false" data-tab="export">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          –≠–∫—Å–ø–æ—Ä—Ç
        </button>
      </div>

      <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–æ–≤ -->
      <div class="admin-content">

        <!-- –¢–∞–±: –ì–ª–∞–≤—ã -->
        <section class="admin-panel active" data-panel="chapters" role="tabpanel">
          <div class="panel-header">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–æ–π</h2>
          </div>

          <!-- –û–±–ª–æ–∂–∫–∞ -->
          <fieldset class="setting-fieldset">
            <legend class="setting-fieldset-legend">–û–±–ª–æ–∂–∫–∞</legend>
            <div class="settings-grid settings-grid--inner">
              <div class="setting-card">
                <label class="setting-label" for="coverTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–Ω–∏–≥–∏</label>
                <input class="form-input" type="text" id="coverTitle" value="–û —Ö–æ–±–±–∏—Ç–∞—Ö" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏">
              </div>
              <div class="setting-card">
                <label class="setting-label" for="coverAuthor">–ê–≤—Ç–æ—Ä</label>
                <input class="form-input" type="text" id="coverAuthor" value="–î–∂.–†.–†.–¢–æ–ª–∫–∏–Ω" placeholder="–ò–º—è –∞–≤—Ç–æ—Ä–∞">
              </div>
              <div class="setting-card">
                <label class="setting-label" for="coverBg">–§–æ–Ω –æ–±–ª–æ–∂–∫–∏ (–¥–µ—Å–∫—Ç–æ–ø)</label>
                <input class="form-input" type="text" id="coverBg" placeholder="images/backgrounds/bg-cover.webp">
              </div>
              <div class="setting-card">
                <label class="setting-label" for="coverBgMobile">–§–æ–Ω –æ–±–ª–æ–∂–∫–∏ (–º–æ–±–∏–ª—å–Ω—ã–π)</label>
                <input class="form-input" type="text" id="coverBgMobile" placeholder="images/backgrounds/bg-cover-mobile.webp">
              </div>
            </div>
            <div class="panel-actions">
              <button class="btn btn-primary" id="saveCover" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±–ª–æ–∂–∫—É</button>
            </div>
          </fieldset>

          <!-- –ì–ª–∞–≤—ã -->
          <div class="panel-header" style="margin-top: 24px;">
            <h2>–ì–ª–∞–≤—ã</h2>
            <button class="btn btn-primary" id="addChapter" type="button">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
              </svg>
              –î–æ–±–∞–≤–∏—Ç—å –≥–ª–∞–≤—É
            </button>
          </div>

          <div class="chapters-list" id="chaptersList">
            <!-- –ì–ª–∞–≤—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>

          <div class="empty-state" id="chaptersEmpty" hidden>
            <svg viewBox="0 0 24 24" width="48" height="48" aria-hidden="true">
              <path fill="currentColor" d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H6V4h12v16z"/>
            </svg>
            <p>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –≥–ª–∞–≤</p>
            <p class="empty-hint">–ù–∞–∂–º–∏—Ç–µ ¬´–î–æ–±–∞–≤–∏—Ç—å –≥–ª–∞–≤—É¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</p>
          </div>
        </section>

        <!-- –¢–∞–±: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <section class="admin-panel" data-panel="settings" role="tabpanel" hidden>
          <div class="panel-header">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</h2>
            <p class="panel-description">–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–∏–¥–∏—Ç —á–∏—Ç–∞—Ç–µ–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–Ω–∏–≥–∏</p>
          </div>

          <div class="settings-grid">
            <!-- –®—Ä–∏—Ñ—Ç -->
            <div class="setting-card">
              <label class="setting-label" for="defaultFont">–®—Ä–∏—Ñ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
              <select class="setting-select" id="defaultFont">
                <option value="georgia">Georgia</option>
                <option value="merriweather">Merriweather</option>
                <option value="libre-baskerville">Libre Baskerville</option>
                <option value="inter">Inter</option>
                <option value="roboto">Roboto</option>
                <option value="open-sans">Open Sans</option>
              </select>
            </div>

            <!-- –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ -->
            <div class="setting-card">
              <label class="setting-label" for="defaultFontSize">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
              <div class="setting-range-row">
                <input class="setting-range" type="range" id="defaultFontSize" min="14" max="22" value="18">
                <span class="setting-range-value" id="fontSizeValue">18px</span>
              </div>
            </div>

            <!-- –¢–µ–º–∞ -->
            <div class="setting-card">
              <label class="setting-label">–¢–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
              <div class="setting-theme-group" id="defaultTheme">
                <button class="setting-theme-btn active" type="button" data-theme="light">–°–≤–µ—Ç–ª–∞—è</button>
                <button class="setting-theme-btn" type="button" data-theme="dark">–¢—ë–º–Ω–∞—è</button>
                <button class="setting-theme-btn" type="button" data-theme="bw">–ß/–ë</button>
              </div>
            </div>

            <!-- –ó–≤—É–∫ -->
            <div class="setting-card">
              <label class="setting-label">–ó–≤—É–∫ –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏—è</label>
              <div class="setting-toggle-row">
                <label class="admin-toggle">
                  <input type="checkbox" id="defaultSound" checked>
                  <span class="admin-toggle-slider"></span>
                </label>
                <span class="setting-toggle-label" id="soundLabel">–í–∫–ª—é—á—ë–Ω</span>
              </div>
            </div>

            <!-- –ì—Ä–æ–º–∫–æ—Å—Ç—å -->
            <div class="setting-card">
              <label class="setting-label" for="defaultVolume">–ì—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–æ–≤</label>
              <div class="setting-range-row">
                <input class="setting-range" type="range" id="defaultVolume" min="0" max="100" value="30">
                <span class="setting-range-value" id="volumeValue">30%</span>
              </div>
            </div>

            <!-- –ê–º–±–∏–µ–Ω—Ç ‚Äî –≤—ã–±–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -->
            <div class="setting-card">
              <label class="setting-label">–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
              <div class="setting-ambient-group" id="defaultAmbient">
                <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
              </div>
            </div>
          </div>

          <div class="panel-actions">
            <button class="btn btn-primary" id="saveSettings" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            <button class="btn btn-secondary" id="resetSettings" type="button">–°–±—Ä–æ—Å–∏—Ç—å –∫ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º</button>
          </div>

          <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–º–±–∏–µ–Ω—Ç–∞–º–∏ -->
          <fieldset class="setting-fieldset" style="margin-top: 24px;">
            <legend class="setting-fieldset-legend">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞–º–∏</legend>

            <div class="ambient-cards" id="ambientCards">
              <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <button class="btn btn-primary" id="addAmbient" type="button" style="margin-top: 16px;">
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
              </svg>
              –î–æ–±–∞–≤–∏—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É
            </button>
          </fieldset>
        </section>

        <!-- –¢–∞–±: –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ -->
        <section class="admin-panel" data-panel="appearance" role="tabpanel" hidden>
          <div class="panel-header">
            <h2>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏</h2>
            <p class="panel-description">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ü–≤–µ—Ç–∞, —Ç–µ–∫—Å—Ç—É—Ä—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–æ–≤</p>
          </div>

          <div class="settings-grid">
            <!-- –û–±–ª–æ–∂–∫–∞ ‚Äî —Å–µ–∫—Ü–∏—è -->
            <fieldset class="setting-fieldset">
              <legend class="setting-fieldset-legend">–û–±–ª–æ–∂–∫–∞</legend>

              <div class="settings-grid settings-grid--inner">
                <!-- –§–æ–Ω –æ–±–ª–æ–∂–∫–∏: –≥—Ä–∞–¥–∏–µ–Ω—Ç -->
                <div class="setting-card">
                  <label class="setting-label" for="coverBgStart">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ (–≥—Ä–∞–¥–∏–µ–Ω—Ç)</label>
                  <div class="appearance-color-row">
                    <div class="appearance-color-group">
                      <input type="color" class="appearance-color" id="coverBgStart" value="#3a2d1f">
                      <span class="appearance-color-label">–ù–∞—á–∞–ª–æ</span>
                    </div>
                    <span class="appearance-arrow" aria-hidden="true">‚Üí</span>
                    <div class="appearance-color-group">
                      <input type="color" class="appearance-color" id="coverBgEnd" value="#2a2016">
                      <span class="appearance-color-label">–ö–æ–Ω–µ—Ü</span>
                    </div>
                  </div>
                </div>

                <!-- –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –æ–±–ª–æ–∂–∫–∏ -->
                <div class="setting-card">
                  <label class="setting-label" for="coverText">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
                  <div class="appearance-color-row">
                    <input type="color" class="appearance-color" id="coverText" value="#f2e9d8">
                    <span class="appearance-color-preview" id="coverTextPreview" style="color: #f2e9d8; background: linear-gradient(135deg, #3a2d1f, #2a2016); padding: 4px 12px; border-radius: 6px; font-size: 14px; font-weight: 600;">–ó–∞–≥–æ–ª–æ–≤–æ–∫</span>
                  </div>
                </div>

                <!-- –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±–ª–æ–∂–∫–∏ -->
                <div class="setting-card setting-card--texture">
                  <label class="setting-label">–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                  <div class="cover-bg-upload">
                    <div class="cover-bg-preview" id="coverBgPreview">
                      <span class="cover-bg-preview-empty" id="coverBgPreviewEmpty">
                        <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                          <path fill="currentColor" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                        </svg>
                        –ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                      </span>
                    </div>
                    <div class="cover-bg-actions">
                      <label class="btn btn-secondary btn-small upload-btn">
                        <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                          <path fill="currentColor" d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
                        </svg>
                        –ó–∞–≥—Ä—É–∑–∏—Ç—å
                        <input type="file" id="coverBgFileInput" accept="image/*" hidden>
                      </label>
                      <button class="btn btn-small" type="button" id="coverBgRemove" hidden>–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>

            <!-- –¢–µ–∫—Å—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="setting-card setting-card--texture">
              <label class="setting-label">–¢–µ–∫—Å—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</label>
              <div class="texture-selector">
                <div class="texture-options">
                  <button class="texture-option active" type="button" data-texture="default" title="–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é">
                    <img src="images/backgrounds/bg-page.webp" alt="–¢–µ–∫—Å—Ç—É—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é" class="texture-thumb">
                    <span class="texture-option-label">–ë—É–º–∞–≥–∞</span>
                  </button>
                  <button class="texture-option" type="button" data-texture="none" title="–ë–µ–∑ —Ç–µ–∫—Å—Ç—É—Ä—ã">
                    <span class="texture-thumb texture-thumb--none"></span>
                    <span class="texture-option-label">–ù–µ—Ç</span>
                  </button>
                  <label class="texture-option texture-option--upload" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ—é —Ç–µ–∫—Å—Ç—É—Ä—É">
                    <span class="texture-thumb texture-thumb--upload" id="customTextureThumb">
                      <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                        <path fill="currentColor" d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
                      </svg>
                    </span>
                    <span class="texture-option-label">–°–≤–æ—è</span>
                    <input type="file" id="textureFileInput" accept="image/*" hidden>
                  </label>
                </div>
                <div class="texture-custom-info" id="textureCustomInfo" hidden>
                  <span class="texture-custom-name" id="textureCustomName"></span>
                  <button class="texture-custom-remove" type="button" id="textureCustomRemove" title="–£–¥–∞–ª–∏—Ç—å —Å–≤–æ—é —Ç–µ–∫—Å—Ç—É—Ä—É">
                    <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                      <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                  </button>
                </div>
              </div>
              <input type="hidden" id="pageTexture" value="default">
            </div>

            <!-- –§–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="setting-card">
              <label class="setting-label" for="bgPage">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</label>
              <div class="appearance-color-row">
                <input type="color" class="appearance-color" id="bgPage" value="#fdfcf8">
                <span class="appearance-swatch" id="bgPageSwatch" style="background: #fdfcf8;"></span>
              </div>
            </div>

            <!-- –§–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <div class="setting-card">
              <label class="setting-label" for="bgApp">–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</label>
              <div class="appearance-color-row">
                <input type="color" class="appearance-color" id="bgApp" value="#e6e3dc">
                <span class="appearance-swatch" id="bgAppSwatch" style="background: #e6e3dc;"></span>
              </div>
            </div>

            <!-- –ú–∏–Ω. —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ -->
            <div class="setting-card">
              <label class="setting-label" for="fontMin">–ú–∏–Ω. —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
              <div class="setting-range-row">
                <input class="setting-range" type="range" id="fontMin" min="8" max="30" value="14">
                <span class="setting-range-value" id="fontMinValue">14px</span>
              </div>
            </div>

            <!-- –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ -->
            <div class="setting-card">
              <label class="setting-label" for="fontMax">–ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
              <div class="setting-range-row">
                <input class="setting-range" type="range" id="fontMax" min="8" max="60" value="22">
                <span class="setting-range-value" id="fontMaxValue">22px</span>
              </div>
            </div>
          </div>

          <div class="panel-actions">
            <button class="btn btn-primary" id="saveAppearance" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</button>
            <button class="btn btn-secondary" id="resetAppearance" type="button">–°–±—Ä–æ—Å–∏—Ç—å –∫ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º</button>
          </div>
        </section>

        <!-- –¢–∞–±: –≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç -->
        <section class="admin-panel" data-panel="export" role="tabpanel" hidden>
          <div class="panel-header">
            <h2>–≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç</h2>
            <p class="panel-description">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ —Ñ–∞–π–ª–∞</p>
          </div>

          <div class="export-grid">
            <div class="export-card">
              <h3>–≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h3>
              <p>–°–∫–∞—á–∞–π—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–Ω–∏–≥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON</p>
              <button class="btn btn-primary" id="exportConfig" type="button">
                <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                </svg>
                –°–∫–∞—á–∞—Ç—å JSON
              </button>
            </div>

            <div class="export-card">
              <h3>–ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h3>
              <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ JSON-—Ñ–∞–π–ª–∞</p>
              <label class="btn btn-secondary upload-btn">
                <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                  <path fill="currentColor" d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
                </svg>
                –ó–∞–≥—Ä—É–∑–∏—Ç—å JSON
                <input type="file" id="importConfig" accept=".json" hidden>
              </label>
            </div>

            <div class="export-card">
              <h3>–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</h3>
              <p>–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∫–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</p>
              <button class="btn btn-danger" id="resetAll" type="button">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>
          </div>

          <!-- –û–±–ª–∞—Å—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ JSON -->
          <div class="json-preview">
            <div class="json-preview-header">
              <h3>–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h3>
              <button class="btn btn-small" id="copyJson" type="button">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <pre class="json-code" id="jsonPreview"></pre>
          </div>
        </section>

      </div>
    </main>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="admin-toast" id="toast" hidden>
      <span id="toastMessage"></span>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–ª–∞–≤—ã -->
    <dialog class="admin-modal" id="chapterModal">
      <form class="modal-form" id="chapterForm" method="dialog">
        <h3 class="modal-title" id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –≥–ª–∞–≤—É</h3>

        <div class="form-group">
          <label class="form-label" for="chapterId">ID –≥–ª–∞–≤—ã</label>
          <input class="form-input" type="text" id="chapterId" placeholder="part_4" required>
          <span class="form-hint">–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–ª–∞—Ç–∏–Ω–∏—Ü–∞, —Ü–∏—Ñ—Ä—ã, _)</span>
        </div>

        <div class="form-group">
          <label class="form-label" for="chapterFile">–§–∞–π–ª –∫–æ–Ω—Ç–µ–Ω—Ç–∞</label>
          <input class="form-input" type="text" id="chapterFile" placeholder="content/part_4.html" required>
          <span class="form-hint">–ü—É—Ç—å –∫ HTML-—Ñ–∞–π–ª—É –≥–ª–∞–≤—ã</span>
        </div>

        <div class="form-group">
          <label class="form-label" for="chapterBg">–§–æ–Ω (–¥–µ—Å–∫—Ç–æ–ø)</label>
          <input class="form-input" type="text" id="chapterBg" placeholder="images/backgrounds/part_4.webp">
        </div>

        <div class="form-group">
          <label class="form-label" for="chapterBgMobile">–§–æ–Ω (–º–æ–±–∏–ª—å–Ω—ã–π)</label>
          <input class="form-input" type="text" id="chapterBgMobile" placeholder="images/backgrounds/part_4-mobile.webp">
        </div>

        <div class="modal-actions">
          <button class="btn btn-secondary" type="button" id="cancelModal">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit" id="saveChapter">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </dialog>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–º–±–∏–µ–Ω—Ç–∞ -->
    <dialog class="admin-modal" id="ambientModal">
      <form class="modal-form" id="ambientForm" method="dialog">
        <h3 class="modal-title" id="ambientModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É</h3>

        <div class="form-group">
          <label class="form-label" for="ambientLabel">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
          <input class="form-input" type="text" id="ambientLabel" placeholder="–û–∫–µ–∞–Ω" required>
        </div>

        <div class="form-group">
          <label class="form-label" for="ambientIcon">–ò–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏)</label>
          <input class="form-input" type="text" id="ambientIcon" placeholder="üåä" required maxlength="4">
          <span class="form-hint">–û–¥–Ω–æ —ç–º–æ–¥–∑–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–µ</span>
        </div>

        <div class="form-group">
          <label class="form-label" for="ambientFile">–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É</label>
          <input class="form-input" type="text" id="ambientFile" placeholder="sounds/ambient/ocean.mp3">
          <span class="form-hint">–ü—É—Ç—å –∫ –∞—É–¥–∏–æ—Ñ–∞–π–ª—É –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∏–∂–µ</span>
        </div>

        <div class="form-group">
          <label class="form-label">–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</label>
          <label class="btn btn-secondary upload-btn">
            <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
              <path fill="currentColor" d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/>
            </svg>
            <span id="ambientUploadLabel">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</span>
            <input type="file" id="ambientFileUpload" accept="audio/*" hidden>
          </label>
          <span class="form-hint">–ú–∞–∫—Å. 5 –ú–ë. –ë—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</span>
        </div>

        <div class="modal-actions">
          <button class="btn btn-secondary" type="button" id="cancelAmbientModal">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn btn-primary" type="submit" id="saveAmbient">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </form>
    </dialog>

    <script type="module" src="js/admin/index.js"></script>
  </body>
</html>
