/**
 * RESPONSIVE STYLES
 *
 * Адаптация под разные размеры экранов.
 */

/* ═══════════════════════════════════════════
   МОБИЛЬНЫЕ УСТРОЙСТВА
   ═══════════════════════════════════════════ */

@media (max-width: 768px) {
  :root {
    --pages-per-flip: 1;
    --timing-swap-next: 0ms;
  }

  .scene {
    padding-left: 0;
    padding-right: 15px;
    margin: 15px auto;
  }

  .book-wrap[data-state="closed"] {
    width: 99%;
  }

  /* Левая страница минимальна */
  .page[data-side="left"] {
    width: 10%;
    filter: brightness(0.95);
    pointer-events: none;
  }

  .page[data-side="right"] {
    width: 90%;
  }

  /* Лист адаптирован */
  .sheet {
    left: 10%;
    width: 90%;
  }

  .sheet[data-direction="prev"] {
    left: -80%;
    width: 90%;
  }

  img {
    object-position: center;
    height: 72vh;
    height: 72dvh;
  }

  /* Фотоальбом: на мобильных горизонтальные раскладки → вертикальные */
  .photo-album[data-layout="2h"] {
    grid-template: 1fr 1fr / 1fr;
  }

  .photo-album[data-layout="3"] {
    grid-template: 1fr auto auto / 1fr;
  }

  .photo-album[data-layout="3"] .photo-album__item:first-child {
    grid-row: auto;
  }

  .photo-album {
    min-height: 50vh;
    min-height: 50dvh;
  }

  /* Жесты */
  html,
  body {
    overscroll-behavior-x: none;
  }

  .scene,
  .book-wrap,
  .book {
    touch-action: pan-y;
  }
}

/* ═══════════════════════════════════════════
   ПЛАНШЕТЫ
   ═══════════════════════════════════════════ */

@media (min-width: 769px) and (max-width: 1024px) {
  .scene {
    padding: 0 20px;
    margin: 20px auto;
  }

  .book {
    height: 75vh;
    height: 75dvh;
  }
}

/* ═══════════════════════════════════════════
   БОЛЬШИЕ ЭКРАНЫ
   ═══════════════════════════════════════════ */

@media (min-width: 1440px) {
  .book {
    height: 85vh;
    height: 85dvh;
    max-height: 1600px;
  }
}
