/**
 * CSS CUSTOM PROPERTIES (Design Tokens)
 *
 * Централизованное хранилище всех настраиваемых значений.
 * JavaScript читает эти значения через getComputedStyle.
 *
 */

/* ═══════════════════════════════════════════
   ANIMATABLE CUSTOM PROPERTIES
   Позволяют браузеру анимировать значения через transitions
   ═══════════════════════════════════════════ */

@property --spine-shadow-size {
  syntax: '<length>';
  initial-value: 22px;
  inherits: false;
}

@property --spine-shadow-blur-amount {
  syntax: '<length>';
  initial-value: 18px;
  inherits: false;
}

@property --spine-shadow-alpha {
  syntax: '<number>';
  initial-value: 0.22;
  inherits: false;
}

:root {
  /* ═══════════════════════════════════════════
     ТАЙМИНГИ АНИМАЦИЙ
     ═══════════════════════════════════════════ */
  --timing-lift: 240ms;           /* Подъём страницы */
  --timing-rotate: 900ms;         /* Вращение страницы */
  --timing-drop: 160ms;           /* Опускание страницы */
  --timing-cover: 1200ms;         /* Открытие/закрытие обложки */
  --timing-wrap: 300ms;           /* Расширение контейнера */
  --timing-transition: 300ms;     /* Общие переходы */
  --timing-blur: 600ms;           /* Снятие blur placeholder */
  --timing-swap-next: 30ms;        /* Задержка смены закрытого буфера (вперёд) */
  --timing-swap-prev: 100ms;      /* Задержка смены закрытого буфера (назад) */
  --timing-resize-debounce: 150ms;/* Дебаунс ресайза */

  /* ═══════════════════════════════════════════
     РАЗМЕРЫ И ПОРОГИ
     ═══════════════════════════════════════════ */
  --font-min: 14px;
  --font-max: 22px;
  --font-default: 18px;
  --swipe-threshold: 20px;        /* Мин. расстояние свайпа */
  --swipe-vertical-limit: 30px;   /* Макс. вертикальное отклонение */

  /* ═══════════════════════════════════════════
     3D И ТЕНИ
     ═══════════════════════════════════════════ */
  --perspective: 1600px;
  --spine-shadow-width: 8px;
  --spine-shadow-blur: 4px;
  --page-edge-noise: 2.6px;
  --pages-depth: 10px;
  --pages-count: 6;

  /* ═══════════════════════════════════════════
     ЦВЕТА (СВЕТЛАЯ ТЕМА)
     ═══════════════════════════════════════════ */
  --bg-app: #e6e3dc;
  --bg-book: #fdfcf8;
  --bg-page: #fdfcf8;
  --bg-page-alt: #f3f2ed;
  --text-main: #1f1f1f;
  --text-muted: #555;
  --border-page: rgb(0, 0, 0, 0.08);

  /* Край страниц */
  --page-edge-base: #f3f1ea;
  --page-edge-alt: #e6e3dc;
  --page-edge-contrast: rgb(0, 0, 0, 0.18);
  --pages-color: #f3f2ed;
  --pages-shadow: rgb(0, 0, 0, 0.18);

  /* Тени */
  --shadow-book:
    0 2px 4px rgb(0, 0, 0, 0.08),
    0 8px 16px rgb(0, 0, 0, 0.12),
    0 30px 60px rgb(0, 0, 0, 0.28);
  --shadow-page: rgb(0, 0, 0, 0.18);

  /* Корешок */
  --spine-dark: rgb(0, 0, 0, 0.45);
  --spine-mid: rgb(0, 0, 0, 0.22);
  --spine-soft: rgb(0, 0, 0, 0.08);
  --paper-highlight: rgb(255, 255, 255, 0.35);

  /* Обложка */
  --cover-front-bg: linear-gradient(135deg, #3a2d1f, #2a2016);
  --cover-front-text: #f2e9d8;
  --cover-back-bg: #fdfcf8;

  /* Текстура страницы */
  --bg-page-image: url("/images/backgrounds/bg-page.webp");

  /* ═══════════════════════════════════════════
     НАСТРОЙКИ ЧИТАЛКИ
     ═══════════════════════════════════════════ */
  --reader-font-size: var(--font-default);
  --reader-font-family: georgia, serif;
  --decorative-font: tolkiencyr, sans-serif;

  /* ═══════════════════════════════════════════
     ПАГИНАЦИЯ
     ═══════════════════════════════════════════ */
  --pages-per-flip: 2;
  --pagination-chunk-size: 5;
  --pagination-yield-interval: 16ms;

  /* Debug переменные */
  --current-page: 0;
  --total-pages: 0;
}
